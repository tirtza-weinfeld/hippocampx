


/* @import "../styles-bleeding/theme.css"; */
/* @import "../styles-bleeding/theme-tw4.css"; */

@import "tailwindcss";

@import "katex/dist/katex.min.css";

@import "./theme.css";


@import "./components/main.css"; /* dev */
@import "./base/main.css"; /* dev */


/* prod
@layer components {
  @import "./components/main.css";
}
@layer base {
  @import "./base/main.css";
} */

@variant dark (&:where(.dark, .dark *));
@custom-variant dark (&:is(.dark *));




:root { color-scheme: light; }
.dark { color-scheme: dark; }


@layer base {
  * {
    border-color: var(--border);
  }

  body {
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: var(--font-family);
  }
}

/* View Transitions - GPU-accelerated, non-blocking */
::view-transition-old(.theme-update),
::view-transition-new(.theme-update),
::view-transition-old(.page-exit),
::view-transition-new(.page-enter) {
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, opacity;
}

/* Theme toggle - fast crossfade */
::view-transition-old(.theme-update),
::view-transition-new(.theme-update) {
  animation-duration: 150ms;
}

/* Navigation - subtle slide */
::view-transition-old(.page-exit) {
  animation: 200ms cubic-bezier(0.4, 0, 0.2, 1) page-out;
}
::view-transition-new(.page-enter) {
  animation: 200ms cubic-bezier(0.4, 0, 0.2, 1) page-in;
}

@keyframes page-out {
  to { opacity: 0; transform: translateY(4px); }
}
@keyframes page-in {
  from { opacity: 0; transform: translateY(-4px); }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  ::view-transition-old(.theme-update),
  ::view-transition-new(.theme-update),
  ::view-transition-old(.page-exit),
  ::view-transition-new(.page-enter) {
    animation: none;
  }
}


h1 ::first-letter {
  font-family: var(--font-great-vibes), cursive;
  font-size: 4.5rem;
  font-weight: normal;
  letter-spacing: 0;
  vertical-align: middle;
}

