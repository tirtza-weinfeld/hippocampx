```python meta="source=problems/36-valid-sudoku/solution.py"
def is_valid_sudoku(board: list[list[str]]) -> bool:

    row = [set() for _ in range(9)]
    col = [set() for _ in range(9)]
    cube = [set() for _ in range(9)]

    for r in range(9):
        for c in range(9):
            if (num := board[r][c]) != ".": 

                if (
                    num in col[c]
                    or num in row[r]
                    or num in cube[(cube_index := (r // 3) * 3 + (c // 3))]
                ):
                    return False

                col[c].add(num)
                row[r].add(num)
                cube[cube_index].add(num)
    return True
```