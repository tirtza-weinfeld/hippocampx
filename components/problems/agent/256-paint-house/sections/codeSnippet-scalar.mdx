```python meta="source=problems/256-paint-house/scalar.py"
class Solution:
    def minCost(self, costs: list[list[int]]) -> int:
        n, memo = len(costs), {}

        def dp(i: int, c: int) -> int:
            if i == n:
                return 
            if (i, c) not in memo:
                
                memo[i, c] = costs[i][c] + min(
                    dp(i + 1, (c + 1) % 3), dp(i + 1, (c + 2) % 3)
                )
            return memo[i, c]

        return min(dp(0, 0), dp(0, 1), dp(0, 2))
```