```python meta="source=problems/875-koko-eating-bananas/solution.py"
def koko_eating_bananas(piles: list[int], h: int) -> int:

    def hours(k:int) -> int:
        return sum((p + k - 1) // k for p in piles)
        # return sum(math.ceil(pile / k) for pile in piles)

    l, r = 1, max(piles)
    while l < r:
        k = (l + r) // 2
        if hours(k) <= h:
            r = k
        else:
            l = k + 1
    return l
```