```python meta="source=problems/743-network-delay-time/dijkstra.py"
from heapq import heappush, heappop

class Solution:
    def networkDelayTime(self, times: list[list[int]], n: int, k: int) -> int:

        g = {i: [] for i in range(1, n + 1)}
        for u, v, w in times:
            g[u].append((w, v))

        dist = {i: float("inf") for i in g}
        dist[k] = 0

        pq = [(0, k)]

        while pq:
            d, u = heappop(pq)
            if d > dist[u]: continue

            for w, v in g[u]:
                if (nd := d + w) < dist[v]:
                    dist[v] = nd
                    heappush(pq, (nd, v))

        return ans if (ans := max(dist.values())) < float("inf") else -1
```