# Meeting Rooms III

## Resizable Table Of contents

<DifficultyBadge difficulty="hard" />

<PillList pills={["heap", "interval"]} />

[2402. Meeting Rooms III](https://leetcode.com/problems/meeting-rooms-iii/)

## [!(ProblemDefinition)] Definition

Given n rooms (0…n-1) and meetings[i] = [startᵢ, endᵢ), assign each meeting to the lowest-numbered available room or delay it if none are free. Return the room that hosted the most meetings (tie → smallest index). (Constraints: 1 ≤ n ≤ 100, 1 ≤ m ≤ 10⁵, 0 ≤ startᵢ < endᵢ ≤ 5×10⁵)

## [!(ProblemCodeSnippet)] Code Snippet

```python meta="source=problems/2402-meeting-rooms-iii/solution.py"
from heapq import heappush, heappop, heapify

def mostBooked(n: int, meetings: list[list[int]]) -> int:

    busy = []
    heapify((free := [*range(n)]))
    count = [0] * n

    for s, e in sorted(meetings):
        while busy and busy[0][0] <= s:
            _, r = heappop(busy)
            heappush(free, r)
        if free:
            r = heappop(free)
            heappush(busy, (e, r))
        else:
            next_end, r = heappop(busy)
            heappush(busy, (next_end + (e - s), r))
        count[r] += 1

    return max(range(n), key=count.__getitem__)
```

