# Maximum Product Subarray

## Resizable Table Of contents

<DifficultyBadge difficulty="medium" />

<PillList pills={["dynamic_programming"]} />

[152. Maximum Product Subarray](https://leetcode.com/problems/maximum-product-subarray)

## [!ProblemDefinition] Definition

Given an array of integers, return the maximum product of any contiguous subarray.

## [!ProblemCodeSnippet] Code Snippet

```python meta="source=problems/152-maximum-product-subarray/solution.py"
def maximum_product_subarray(nums: list[int]) -> int:

    hi = lo = max_prod = nums[0]
    for x in nums[1:]:
        if x < 0:
            hi, lo = lo, hi
        hi = max(x, hi * x)
        lo = min(x, lo * x)
        max_prod = max(max_prod, hi)
    return max_prod
```

