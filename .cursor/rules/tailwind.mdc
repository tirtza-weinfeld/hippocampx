---
alwaysApply: true
---
# Tailwind CSS 4.1+ (v4.1.18) — React 19 / Next.js 16

## Setup

```css
@import "tailwindcss";
```

Zero config. No `tailwind.config.js`. No `@tailwind` directives.

## @theme — Design Tokens

```css
@theme {
  --color-brand: oklch(0.7 0.15 250);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --animate-wiggle: wiggle 1s ease-in-out infinite;
  @keyframes wiggle { 0%, 100% { transform: rotate(-3deg); } 50% { transform: rotate(3deg); } }
}
```

## Dark Mode

**Default `dark:` = `@media (prefers-color-scheme: dark)`**

For class-based (next-themes), override the variant:

```css
@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));
```

For data-attribute based:

```css
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));
```

## @theme inline — Semantic Tokens

```css
:root {
  --background: oklch(0.98 0.01 264);
  --foreground: oklch(0.15 0.01 264);
  --primary: oklch(0.6 0.15 180);
}

.dark {
  --background: oklch(0.12 0.02 264);
  --foreground: oklch(0.95 0.01 264);
  --primary: oklch(0.7 0.12 180);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
}
```

Usage: `bg-background text-primary ring-ring border-border` — all semantic, no `dark:` prefix needed.

## Theme Functions

```css
--color-primary-soft: --alpha(var(--primary) / 10%);
--color-overlay: --alpha(var(--background) / 80%);
padding: --spacing(4) --spacing(6);
```

## Theme Namespaces

| Namespace | Generates |
|-----------|-----------|
| `--color-*` | `bg-*`, `text-*`, `border-*`, `fill-*` |
| `--shadow-*` | `shadow-*` |
| `--ease-*` | `ease-*` |
| `--animate-*` | `animate-*` |
| `--breakpoint-*` | `sm:`, `md:`, `3xl:` |
| `--container-*` | `@sm:`, `@md:` |

## @utility — Custom Utilities

```css
@utility scrollbar-thin {
  scrollbar-width: thin;
  &::-webkit-scrollbar { width: 6px; }
}

@utility text-gradient-* {
  background: --value(--gradient-*);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
```

**--value()**: `integer`, `number`, `percentage`, `[type]`, `"literal"`, `--theme-*`
**--modifier()**: `text-lg/relaxed`, `text-base/7`

## @layer — Cascade

```css
@layer components {
  .card { padding: --spacing(6); border-radius: var(--radius-lg); }
}
```

Overridable: `<div className="card rounded-none">`

## @source — Content

```css
@source "../node_modules/@company/ui";
@source not "./legacy";
@source inline("{hover:,}ring-{1,2,4}");
```

## Container Queries

```tsx
<div className="@container">
  <div className="grid-cols-1 @sm:grid-cols-2 @lg:grid-cols-4" />
</div>
```

Named: `@container/card` + `@md/card:flex-row`
Range: `@min-sm:@max-lg:hidden`

## Text Shadows

```tsx
<h1 className="text-shadow-lg text-shadow-primary/30" />
```

## Masks

```tsx
<div className="mask-b-from-50% mask-radial-from-70%" />
```

## 3D Transforms

```tsx
<div className="perspective-500 rotate-x-12 rotate-y-6 transform-3d backface-hidden" />
```

## Gradients

```tsx
<div className="bg-linear-45 from-indigo-500 to-pink-500" />
<div className="bg-linear-to-r/oklch from-blue-500 to-cyan-400" />
<div className="bg-radial-[at_25%_25%] from-white to-zinc-900" />
<div className="bg-conic from-red-500 to-green-500" />
```

## Shadows

```tsx
<div className="shadow-xl shadow-primary/25" />
<svg className="drop-shadow-xl drop-shadow-cyan-500/50" />
<div className="shadow-lg inset-shadow-sm inset-ring-1" />
```

## Variants

**Interactive:** `hover:` `active:` `focus-visible:` `focus-within:`
**Form:** `disabled:` `user-valid:` `user-invalid:` `checked:` `autofill:`
**Structural:** `first:` `last:` `odd:` `even:` `empty:` `has-[]:` `nth-*:`
**Ancestor:** `in-[.sidebar]:` `in-[[data-open]]:`
**State:** `open:` `starting:` `inert:` `modal:`
**A11y:** `motion-reduce:` `motion-safe:` `contrast-more:` `forced-colors:`
**Device:** `pointer-fine:` `pointer-coarse:` `any-pointer-*:`
**Negation:** `not-hover:` `not-disabled:` `not-has-[]:`
**Data:** `data-[state=open]:` `aria-expanded:`
**Descendants:** `*:` `**:` `details-content:`

## Common Patterns

```tsx
{/* Hover lift */}
<div className="hover:-translate-y-1 hover:shadow-xl transition-all" />

{/* Press */}
<button className="active:scale-[0.98] transition-transform" />

{/* Focus ring */}
<button className="focus-visible:ring-2 focus-visible:ring-ring outline-none" />

{/* Disabled */}
<button className="disabled:opacity-50 disabled:pointer-events-none" />

{/* Entry animation */}
<div className="starting:opacity-0 starting:translate-y-2 transition-all" />

{/* Glassmorphism */}
<div className="bg-background/80 backdrop-blur-xl backdrop-saturate-150" />

{/* Touch targets */}
<button className="p-2 pointer-coarse:p-4" />

{/* Form validation */}
<input className="user-valid:border-green-500 user-invalid:border-red-500" required />

{/* Text gradient */}
<h1 className="bg-linear-to-r from-primary to-accent bg-clip-text text-transparent" />

{/* Container responsive */}
<div className="@container">
  <div className="flex-col @md:flex-row @lg:grid-cols-3" />
</div>

{/* Scroll fade */}
<div className="mask-b-from-80% overflow-y-auto" />

{/* Popover animation */}
<div popover className="transition-discrete starting:open:opacity-0 open:opacity-100" />

{/* Auto-resize textarea */}
<textarea className="field-sizing-content min-h-20 max-h-64" />
```

## Anti-Patterns

| Avoid | Use |
|-------|-----|
| `@tailwind base/components/utilities` | `@import "tailwindcss"` |
| `tailwind.config.js` | `@theme` in CSS |
| `bg-gradient-to-r` | `bg-linear-to-r` |
| `theme()` | `var(--color-*)` |
| Viewport for components | `@container` |
| `group` class | `in-*` variant |
| `focus:` | `focus-visible:` |
| `transition-all` | `transition-colors`, `transition-transform` |
| `dark:` for mapped tokens | CSS cascade |
| Hex colors | OKLCH `oklch(L C H)` |
| `@apply` | `@layer components` |
